<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <title>Crear cuenta | Sequía Monitor</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg: #0a0f1f;
      --bg-secondary: #0d1424;
      --fg: #e5eefc;
      --muted: #a7b6d6;
      --primary: #22c55e;
      --primary-light: #4ade80;
      --primary-dark: #16a34a;
      --info: #60a5fa;
      --danger: #ef4444;
      --card: #0d1628;
      --stroke: #1d2a48;
    }

    * {
      box-sizing: border-box;
    }

    html,
    body {
      height: 100%;
      margin: 0;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu',
        'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
      color: var(--fg);
      background: linear-gradient(135deg, var(--bg) 0%, var(--bg-secondary) 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      padding: 20px;
    }

    /* Improved main container with better structure */
    .container {
      width: 100%;
      max-width: 1100px;
      background: linear-gradient(
        135deg,
        rgba(13, 22, 40, 0.8) 0%,
        rgba(10, 15, 31, 0.6) 100%
      );
      border: 1px solid var(--stroke);
      border-radius: 24px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
    }

    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
      padding: 32px 48px;
      border-bottom: 1px solid var(--stroke);
    }

    .header-left {
      display: flex;
      align-items: center;
      gap: 14px;
    }

    .header-left svg {
      width: 32px;
      height: 32px;
      flex-shrink: 0;
    }

    .header-left h1 {
      font-size: 28px;
      font-weight: 700;
      margin: 0;
      color: var(--fg);
      letter-spacing: -0.5px;
    }

    .badge {
      background: linear-gradient(135deg, var(--info), var(--primary));
      color: white;
      font-size: 11px;
      font-weight: 700;
      padding: 4px 10px;
      border-radius: 999px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-left: 8px;
    }

    .header-right a {
      background: transparent;
      color: var(--info);
      border: 1.5px solid var(--info);
      padding: 10px 14px;
      border-radius: 10px;
      text-decoration: none;
      font-size: 13px;
      font-weight: 600;
      transition: all 0.2s ease;
      cursor: pointer;
    }

    .header-right a:hover {
      background: rgba(96, 165, 250, 0.1);
      transform: translateY(-1px);
    }

    .content {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 32px;
      padding: 40px 48px;
    }

    .form-panel {
      display: flex;
      flex-direction: column;
    }

    .form-panel > p {
      font-size: 14px;
      color: var(--muted);
      line-height: 1.6;
      margin: 0 0 24px 0;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px;
    }

    label {
      display: block;
      font-size: 13px;
      font-weight: 600;
      color: var(--fg);
      margin-bottom: 8px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      opacity: 0.9;
    }

    input {
      width: 100%;
      padding: 12px 14px;
      border-radius: 10px;
      border: 1px solid var(--stroke);
      background: rgba(14, 23, 48, 0.5);
      color: var(--fg);
      font-size: 14px;
      outline: none;
      transition: all 0.2s ease;
      font-family: inherit;
    }

    input::placeholder {
      color: var(--muted);
      opacity: 0.6;
    }

    input:focus {
      border-color: var(--primary);
      background: rgba(14, 23, 48, 0.8);
      box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.1);
    }

    .form-actions {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin-top: 28px;
    }

    button,
    a.btn {
      border: none;
      border-radius: 10px;
      padding: 12px 16px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-family: inherit;
    }

    button:active,
    a.btn:active {
      transform: translateY(1px);
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
      color: white;
      box-shadow: 0 4px 12px rgba(34, 197, 94, 0.3);
    }

    .btn-primary:hover {
      box-shadow: 0 6px 20px rgba(34, 197, 94, 0.4);
      transform: translateY(-2px);
    }

    .btn-secondary {
      background: transparent;
      color: var(--info);
      border: 1.5px solid var(--info);
    }

    .btn-secondary:hover {
      background: rgba(96, 165, 250, 0.1);
    }

    .error-message {
      background: rgba(239, 68, 68, 0.1);
      border: 1px solid var(--danger);
      color: #fca5a5;
      padding: 12px 14px;
      border-radius: 10px;
      font-size: 13px;
      margin-top: 16px;
      line-height: 1.5;
    }

    /* Improved info sidebar with better visual structure */
    .info-sidebar {
      background: rgba(13, 22, 40, 0.6);
      border: 1px solid var(--stroke);
      border-radius: 14px;
      padding: 28px;
      display: flex;
      flex-direction: column;
      gap: 24px;
    }

    .info-section h3 {
      font-size: 16px;
      font-weight: 700;
      margin: 0 0 12px 0;
      color: var(--fg);
      letter-spacing: -0.3px;
    }

    .info-section ul {
      list-style: none;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .info-section li {
      font-size: 13px;
      line-height: 1.6;
      color: var(--muted);
      padding-left: 20px;
      position: relative;
    }

    .info-section li::before {
      content: '✓';
      position: absolute;
      left: 0;
      color: var(--primary);
      font-weight: 700;
    }

    .info-section strong {
      color: var(--fg);
      font-weight: 600;
    }

    .info-section code {
      background: rgba(96, 165, 250, 0.1);
      padding: 2px 6px;
      border-radius: 4px;
      font-family: 'Courier New', monospace;
      color: var(--info);
    }

    .info-section p {
      font-size: 12px;
      color: var(--muted);
      margin: 0;
    }

    @media (max-width: 1024px) {
      .content {
        grid-template-columns: 1fr;
        gap: 24px;
        padding: 40px;
      }

      .header {
        flex-wrap: wrap;
        padding: 24px 40px;
      }

      .header-left {
        flex: 1;
      }
    }

    @media (max-width: 640px) {
      body {
        padding: 16px;
      }

      .container {
        border-radius: 16px;
      }

      .header {
        padding: 20px 24px;
        flex-direction: column;
        align-items: flex-start;
      }

      .header-right {
        width: 100%;
      }

      .header-right a {
        width: 100%;
        justify-content: center;
      }

      .header-left h1 {
        font-size: 24px;
      }

      .content {
        padding: 28px 20px;
      }

      .form-row {
        grid-template-columns: 1fr;
      }

      .form-actions {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header class="header">
      <div class="header-left">
        <svg viewBox="0 0 24 24" fill="#60a5fa" aria-hidden="true">
          <path d="M12 2c3 4 7 8 7 12a7 7 0 1 1-14 0c0-4 4-8 7-12z" />
        </svg>
        <h1>Crear cuenta</h1>
        <span class="badge">Acceso Panel</span>
      </div>
      <div class="header-right">
        <a href="{% url 'login' %}">← Volver a iniciar sesión</a>
      </div>
    </header>

    <div class="content">
      <!-- Left: Form -->
      <section class="form-panel" role="main" aria-label="Formulario de registro">
        <p>Completa tus datos. La contraseña se valida con políticas de seguridad moderna.</p>

        <form method="post" novalidate>
          {% csrf_token %}

          <div class="form-group">
            <label for="username">Usuario</label>
            <input
              id="username"
              type="text"
              name="username"
              placeholder="tu_usuario"
              autocomplete="username"
              required
            />
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="first_name">Nombres</label>
              <input id="first_name" type="text" name="first_name" placeholder="Octavio" />
            </div>
            <div class="form-group">
              <label for="last_name">Apellidos</label>
              <input id="last_name" type="text" name="last_name" placeholder="Pérez" />
            </div>
          </div>

          <div class="form-group">
            <label for="email">Correo electrónico</label>
            <input
              id="email"
              type="email"
              name="email"
              placeholder="tu@email.com"
              autocomplete="email"
            />
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="password1">Contraseña</label>
              <input
                id="password1"
                type="password"
                name="password"
                placeholder="••••••••"
                autocomplete="new-password"
                required
              />
            </div>
            <div class="form-group">
              <label for="password2">Confirmar contraseña</label>
              <input
                id="password2"
                type="password"
                name="password2"
                placeholder="••••••••"
                autocomplete="new-password"
                required
              />
            </div>
          </div>

          <div class="form-actions">
            <button type="submit" class="btn btn-primary">Crear cuenta</button>
            <a href="{% url 'login' %}" class="btn btn-secondary">Cancelar</a>
          </div>

          {% if messages %}
            {% for message in messages %}
              <div class="error-message">{{ message }}</div>
            {% endfor %}
          {% endif %}
        </form>
      </section>

      <!-- Right: Info -->
      <aside class="info-sidebar">
        <div class="info-section">
          <h3>¿Qué obtienes?</h3>
          <ul>
            <li>Acceso al <strong>panel privado</strong> con métricas de sequía.</li>
            <li>Creación y edición de <strong>medidas</strong> según permisos.</li>
            <li>Consulta de <strong>indicadores recientes</strong> por región.</li>
            <li><strong>Sesiones seguras</strong> con protección CSRF.</li>
          </ul>
        </div>

        <div class="info-section">
          <h3>Buenas prácticas</h3>
          <ul>
            <li>Usa <strong>mínimo 8 caracteres</strong> con letras y números.</li>
            <li>Evita reutilizar contraseñas de otros sitios.</li>
            <li>Si olvidas tu clave, solicita un reset a un admin.</li>
          </ul>
        </div>

        <div class="info-section">
          <p>¿Eres administrador? Gestiona usuarios desde <code>/admin/</code>.</p>
        </div>
      </aside>
    </div>
  </div>
</body>
</html>
